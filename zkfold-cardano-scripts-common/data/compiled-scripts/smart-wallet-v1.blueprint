{
  "$id": "smart-wallet-v1",
  "$schema": "https://cips.cardano.org/cips/cip57/schemas/plutus-blueprint.json",
  "$vocabulary": {
    "https://cips.cardano.org/cips/cip57": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true
  },
  "preamble": {
    "title": "Smart Wallet",
    "description": "Validators related to zkFold's Smart Wallet. Visit https://zkfold.io/ for more details",
    "version": "0.1.0",
    "plutusVersion": "v3",
    "license": "MIT"
  },
  "validators": [
    {
      "title": "rewardingZKP",
      "description": "Smart wallet rewards script",
      "redeemer": {
        "title": "Rewarding script redeemer",
        "purpose": "withdraw",
        "schema": {
          "$ref": "#/definitions/RewardingRedeemer"
        }
      },
      "parameters": [
        {
          "title": "Wallet config",
          "purpose": "withdraw",
          "schema": {
            "$ref": "#/definitions/OnChainWalletConfig"
          }
        }
      ],
      "compiledCode": "590f5801010032323232323232323232323232323232323232323232323232323222932323255333573466e1d2000002113232328009bae35742009375c6ae8400e6eb8d5d08014c058d5d0800cdd69aba135744002357440026ae88004d5d100088980b2481035054310035573c0046aae74004dd5001488888c8c8c8c8c8c008d4064dd60009aba1357446ae8800cc8c004004896400626007002910c801488896566401245201f2259900494801c8ccd5cd19b8f002001800400a50024a400e50029199ab9a3371e004003000801115900390ac801486400a52005290029480148cc0a000800650024a400a50029198140010009222801244520092801488954ccd5cd19b870060031155333573466e1c01400844ccd5cd19b8700400180040084600423002230024564006430028c0008c00844ccd5cd19b88302c00300c8014002300244c026001133008008005046532646464aa666ae68cdc3a400000422646500132323255333573466e1d200000211328009bae35742005375c6ae840066eb8d5d09aba20011aba20011130244901035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260489201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302880011400cdd68014d4cc01001048004004240022260489201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260489201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c07d2401035054310035573c0046aae74004dd51aba100191114802488a401645001005802400e011002800c01824444444a6465260486ae84d5d11aba235573c6ea8d5d09aba235573c6ea8d5d09bac357426ae880322a0032130033330272001232323255333573466e1d2000002118009bad35742003375a6ae84d5d1000844c0a92401035054310035573c0046aae74004dd5000800c85400826002c4646464646464646464b2b200d1590018809c60048c009149a2605a921035054350018129991800800912c800c6001221801c801488c8c8c8c8ccd5cd19b870023370c66e08014ccc09c03800400c00e0010023370c66f29289b92373066e58c09ccc8c030cc0c120003370200290011b8d00c80018139991948064a006921025b5d00800a4450034901015b009980280199802001400d2401015d008008323001001225900189000c884c8a006921012c009980380218010008cc01001000460769000400000cccc094010008006403e44002900e910011330040040010cd540700180054018c8c0040048964006240032213223322330373370600490101981b99b8600248080004cdc70038021801000998020020008ccde4a514820080004cdc02410101010101010101010101010101010101010101010101010101010101010101010101010101210901291141018303cb054165115905071bc1890307c1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3e66f29289b9233714603a01866e292201012e00301d3371401666e2804ccdc50048052a999ab9a3370e9010181500088999ab9a3370e90101815a8014002004230029932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889817249035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae3574200222605c9201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213303280011400cdd68014d4cc010010480040042400222605c9201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae3574200222605c9201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0a52401035054310035573c0046aae74004dd51aba100b91114802488a401645001005802400e011002800c0182444444400619932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889816a49035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae3574200222605a9201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213303180011400cdd68014d4cc010010480040042400222605a9201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae3574200222605a9201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0a12401035054310035573c0046aae74004dd51aba100a91114802488a401645001005802400e011002800c0182444444400432332300100122590018cb592219002912a999ab9a3375e00400e23200322800801400411330060060030008dd48010d5d10019aab9e37546ae84004d55cf1baa00619918008009108912c80146001221590038c002443003800802400933553300800812001003001024002646002002444464aa666ae68cdc3a400000622900108aa999ab9a3370e900019b860034801044cdc319b82001001002113370c66e08cdc1000800802001199980200200199b8300248010004c8c0040048c8a400692100912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e04011200200191400600600900240040900091919192992999ab9a3370e9001001089800a408022aa666ae68cdc3a4008004226002901008aa999ab9a3370e9003001089800a402022aa666ae68cdc3a4010004226002900408aa999ab9a3370e9005001089800a40082260029001119199bc94a2008601260106600e00800266e08cde52510050013370c004900619b83337009005000a401866e092010371a002646002002444aa666ae68cdc3a4000004230001180199b8600148200066646600800800266e040092002337060029040008c8c00400489640063000910c00d54ccd5cd19b89002480c844cdc0241040200422aa666ae68cdc4801240cc2266e01208e010021155333573466e24009207a1133702004900408a999ab9a3370e903e0010a40b42905f00ccc01001000432300100122590018a40012213370000466e0920800433004004001191800800912c800c600122159002899802002000c60041918008009112a999ab9a33712004002230030029991980200200099b80480080080042300022333573466e3c00800600100233230010012213300880011400cc8c8c954ccd5cd19b874800000844c8c8ca00260166ae84012660026002eb4d5d0801cc034d5d08014cc031d71aba135744004300e75c6ae88004d5d1000889805a49035054310035573c0046aae74004dd50014d4cc01001048004004240024646464aa666ae68cdc3a4000004226500130013574200533006232323255333573466e1d20000021180098029aba100108aa999ab9a3370e90010010899400cdd69aba10029bad35742003375a6ae84d5d10008d5d1000889806249035054310035573c0046aae74004dd50009aba135744004232323255333573466e1d2000002118009bae357420021155333573466e1d2002002118019bae3574200211300b4901035054310035573c0046aae74004dd5000889803a481035054310035573c0046aae74004dd5000911919192a999ab9a3370e900100108c0084554ccd5cd19b874800000846002600a6ae8400422600e921035054310035573c0046aae74004dd500091919192a999ab9a3370e900000108c0004554ccd5cd19b87480080084600a6eb8d5d080084554ccd5cd19b8748010008460066ae8400422600a9201035054310035573c0046aae74004dd5000919319ab9c001800111911a8011bab00133230010012213300580011400e002600c6aae7400a600a6aae78009353300400412001001090009112999aab9f0011003133002357420026ae88004c8c0040048964006290004884cdc0240046600800800232300100122590018a4001221337009001198020020008954ccd5cd19b890014804844cc00920000011155333573466e1d2014001112801a4901610080084554ccd5cd19b874805800444a00692101620080084554ccd5cd19b874806000444a00692101630080084554ccd5cd19b874806800444a00692101640080084554ccd5cd19b874807000444a0069210165008008454ccd5cd19b87480780044a00692101660080084a0069210e3c696e76616c696420627974653e008008c8c00400488954ccd5cd19b880014800044a006921012d00999980200200199b81480000080042260086600b000001323001001225900189000c884c8a006aa666ae68cdc3a40000082292010130001155333573466e1d2002004114910131001155333573466e1d2004004114910132001155333573466e1d2006004114910133001155333573466e1d2008004114910134001155333573466e1d200a004114910135001155333573466e1d200c004114910136001155333573466e1d200e004114910137001155333573466e1d201000411491013800115333573466e1d2012004149101390014910f3c696e76616c69642064696769743e0098010008cc01001000464600200244464aa666ae68cdc3a4000002230033370a004900a400c226646600a00a0030033370a004900a400c00266e10005201432300100122590018a40012219002912a999ab9a3371e91010000211300700111330060060030c8c0040048964006290004886400a44aa666ae68cdc7a441000021100111330060060031",
      "hash": "1f15c3f26a285e3f6cbf4b52b694c1a5ef3e063814e51772067b2410"
    },
    {
      "title": "wallet",
      "description": "Smart wallet spending validator",
      "redeemer": {
        "title": "Unit",
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/Unit"
        }
      },
      "datum": {
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/BuiltinData"
        }
      },
      "parameters": [
        {
          "title": "Dummy parameter",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/Integer"
          }
        },
        {
          "title": "Email",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/BuiltinByteString"
          }
        }
      ],
      "compiledCode": "46010100222499",
      "hash": "09716b7d1d8091e49a2e4fcdf4a8af109b6ef064c8b3d4f3bba046a9"
    }
  ],
  "definitions": {
    "Address": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/Credential"
        },
        {
          "$ref": "#/definitions/Maybe_StakingCredential"
        }
      ],
      "index": 0
    },
    "BuiltinByteString": {
      "dataType": "bytes"
    },
    "BuiltinData": {},
    "Credential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/PubKeyHash"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/ScriptHash"
            }
          ],
          "index": 1
        }
      ]
    },
    "CurrencySymbol": {
      "title": "CurrencySymbol",
      "dataType": "bytes"
    },
    "Integer": {
      "dataType": "integer"
    },
    "JWTParts": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "KeyId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "List_Integer": {
      "dataType": "list",
      "items": {
        "dataType": "integer"
      }
    },
    "Maybe_StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [],
          "index": 1
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/StakingCredential"
            }
          ],
          "index": 0
        }
      ]
    },
    "OnChainWalletConfig": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/CurrencySymbol"
        },
        {
          "$ref": "#/definitions/TokenName"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/Address"
        },
        {
          "$ref": "#/definitions/Integer"
        }
      ],
      "index": 0
    },
    "PubKeyHash": {
      "title": "PubKeyHash",
      "dataType": "bytes"
    },
    "RewardingRedeemer": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/JWTParts"
        },
        {
          "$ref": "#/definitions/UserId"
        },
        {
          "$ref": "#/definitions/SigmaProof"
        },
        {
          "$ref": "#/definitions/KeyId"
        }
      ],
      "index": 0
    },
    "ScriptHash": {
      "title": "ScriptHash",
      "dataType": "bytes"
    },
    "SigmaProof": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/List_Integer"
        },
        {
          "$ref": "#/definitions/List_Integer"
        }
      ],
      "index": 0
    },
    "StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Credential"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            }
          ],
          "index": 1
        }
      ]
    },
    "TokenName": {
      "title": "TokenName",
      "dataType": "bytes"
    },
    "Unit": {
      "dataType": "constructor",
      "fields": [],
      "index": 0
    },
    "UserId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    }
  }
}
