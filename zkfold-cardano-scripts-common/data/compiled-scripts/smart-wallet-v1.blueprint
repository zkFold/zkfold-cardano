{
  "$id": "smart-wallet-v1",
  "$schema": "https://cips.cardano.org/cips/cip57/schemas/plutus-blueprint.json",
  "$vocabulary": {
    "https://cips.cardano.org/cips/cip57": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true
  },
  "preamble": {
    "title": "Smart Wallet",
    "description": "Validators related to zkFold's Smart Wallet. Visit https://zkfold.io/ for more details",
    "version": "0.1.0",
    "plutusVersion": "v3",
    "license": "MIT"
  },
  "validators": [
    {
      "title": "rewardingZKP",
      "description": "Smart wallet rewards script",
      "redeemer": {
        "title": "Rewarding script redeemer",
        "purpose": "withdraw",
        "schema": {
          "$ref": "#/definitions/RewardingRedeemer"
        }
      },
      "parameters": [
        {
          "title": "Wallet config",
          "purpose": "withdraw",
          "schema": {
            "$ref": "#/definitions/OnChainWalletConfig"
          }
        }
      ],
      "compiledCode": "590c76010100323232323232323232323232323232323232323222932323255333573466e1d2000002113232328009bae35742009375c6ae8400e6eb8d5d08014c04cd5d0800cdd69aba135744002357440026ae88004d5d1000889809a481035054310035573c0046aae74004dd5001488888c8c8c8c8c8c008d4058dd60009aba1357446ae8800cc8c004004896400626007002910c801488896566401245201f2259900494801c8ccd5cd19b8f002001800400a50024a400e50029199ab9a3371e004003000801115900390ac801486400a52005290029480148cc09400800650024a400a50029198128010009222801244520092801488954ccd5cd19b870060031155333573466e1c01400844ccd5cd19b8700400180040084600423002230024564006430028c0008c00844ccd5cd19b88302500300c8014002300244c026001133008008005046532646464aa666ae68cdc3a400000422646500132323255333573466e1d200000211328009bae35742005375c6ae840066eb8d5d09aba20011aba20011130214901035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260429201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302580011400cdd68014d4cc01001048004004240022260429201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260429201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0712401035054310035573c0046aae74004dd51aba100191114802488a401645001005802400e011002800c01824444444a6465260426ae84d5d11aba235573c6ea8d5d09aba235573c6ea8d5d09bac357426ae880322a0032130033330242001232323255333573466e1d2000002118009bad35742003375a6ae84d5d1000844c09d2401035054310035573c0046aae74004dd5000800c85400826002c464646464646464b2b20091590018808c60048c009149a26050921035054350018109991800800912c800c6001221801c801488c8c8c8ccd5cd19b870023370c66e08010ccc09002c00400c00e0010023370c66f29289b9233714012666f2528a410008007201d2200219b86337040066664600200244b200312001910919980280280119b863370400200200c3302348001201e003001900c910009330040040010cd540680114014ccde4a514820010004cdc02410101010101010101010101010101010101010101010101010101010101010101010101010111050115092181c18165032133092d83830d61c58103e1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1e66f29289b9233714603601866e29221012e00301b3371401666e2804ccdc50048052a999ab9a3370e9010181380088999ab9a3370e9010181428014002004230029932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889815a49035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260569201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302f80011400cdd68014d4cc01001048004004240022260569201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260569201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0992401035054310035573c0046aae74004dd51aba100b91114802488a401645001005802400e011002800c0182444444400619932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889815249035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260549201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302e80011400cdd68014d4cc01001048004004240022260549201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260549201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0952401035054310035573c0046aae74004dd51aba100a91114802488a401645001005802400e011002800c0182444444400432332300100122590018cb592219002912a999ab9a3375e00400e23200322800801400411330060060030008dd48010d5d10019aab9e37546ae84004d55cf1baa00619918008009108912c80146001221590038c00244300380080240093355330080081200100300102400264600200244446464aa666ae68cdc3a400000822900108aa999ab9a3370e90010020899b860050031155333573466e1d20003370c0089002088008899b863370400200a00666e18cdc1000800801199980200200199b8300248010004c8c00400488954ccd5cd19b89002001118018014cc8cc010010004cdc0240040040021180011919192992999ab9a3370e9001001089800a408022aa666ae68cdc3a4008004226002901008aa999ab9a3370e9003001089800a402022aa666ae68cdc3a4010004226002900408aa999ab9a3370e9005001089800a40082260029001119199bc94a2008601260106600e00800266e08cde52510050013370c004900619b83337009005000a401866e092010371a002646002002444aa666ae68cdc3a4000004230001180199b8600148200066646600800800266e040092002337060029040008c8c00400489640063000910c00d54ccd5cd19b89002480c844cdc0241040200422aa666ae68cdc4801240cc2266e01208e010021155333573466e24009207a1133702004900408a999ab9a3370e903e0010a40b42905f00ccc01001000432300100122590018a40012213370000466e0920800433004004001191800800912c800c600122159002899802002000c600411199ab9a3371e00400300080119918008009109980440008a006646464aa666ae68cdc3a400000422646465001300b3574200933001300175a6ae8400e601a6ae8400a66018eb8d5d09aba200218073ae357440026ae8800444c02d241035054310035573c0046aae74004dd50014d4cc01001048004004240024646464aa666ae68cdc3a4000004226500130013574200533006232323255333573466e1d20000021180098029aba100108aa999ab9a3370e90010010899400cdd69aba10029bad35742003375a6ae84d5d10008d5d1000889806249035054310035573c0046aae74004dd50009aba135744004232323255333573466e1d2000002118009bae357420021155333573466e1d2002002118019bae3574200211300b4901035054310035573c0046aae74004dd5000889803a481035054310035573c0046aae74004dd5000911919192a999ab9a3370e900100108c0084554ccd5cd19b874800000846002600a6ae8400422600e921035054310035573c0046aae74004dd500091919192a999ab9a3370e900000108c0004554ccd5cd19b87480080084600a6eb8d5d080084554ccd5cd19b8748010008460066ae8400422600a9201035054310035573c0046aae74004dd5000919319ab9c001800111911a8011bab00133230010012213300580011400e002600c6aae7400a600a6aae78009353300400412001001090009112999aab9f0011003133002357420026ae88004c8c0040048964006290004884cdc0240046600800800232300100122590018a4001221337009001198020020008c8c0040048964006290004886400a44aa666ae68cdc7a4410000211300700111330060060030c8c0040048964006290004886400a44aa666ae68cdc7a441000021100111330060060031",
      "hash": "e08b1493508d75d0acf785a3df688c3b1b0456a9f7bde78f4add04f9"
    },
    {
      "title": "wallet",
      "description": "Smart wallet spending validator",
      "redeemer": {
        "title": "Unit",
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/Unit"
        }
      },
      "datum": {
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/BuiltinData"
        }
      },
      "parameters": [
        {
          "title": "Dummy parameter",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/Integer"
          }
        },
        {
          "title": "Email",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/BuiltinByteString"
          }
        },
        {
          "title": "Script hash",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/ScriptHash"
          }
        }
      ],
      "compiledCode": "59010d0101002222323232323232323323001001225900189801c00a44320052255333573466ebc00803044c01e000226600c00c0060011191991800800912c800c4c00da44320052255333573466ebc00803044c01c00444cc01801800c3004357426ae88d5d11aba200523259590038800c60048a4d132633573892103505435008000ccd5cd19baf357426ae88d55cf1baa00100b8004008c004d5d08011911a8011bab0013323001001221253335573e002300013322801c004d55ce8014d55cf00126a6600a00a24002002357420026ae8800448004d5d11aba2357446ae88d5d11aba235573c6ea8d5d09aab9e375400866e95200433574000297ae03374a900119aba00014bd701ba9375c005",
      "hash": "1aac1b90f1657291ad6f41f56c599fc4a2719ef9373a78f793058e27"
    }
  ],
  "definitions": {
    "Address": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/Credential"
        },
        {
          "$ref": "#/definitions/Maybe_StakingCredential"
        }
      ],
      "index": 0
    },
    "BuiltinByteString": {
      "dataType": "bytes"
    },
    "BuiltinData": {},
    "Credential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/PubKeyHash"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/ScriptHash"
            }
          ],
          "index": 1
        }
      ]
    },
    "CurrencySymbol": {
      "title": "CurrencySymbol",
      "dataType": "bytes"
    },
    "Integer": {
      "dataType": "integer"
    },
    "JWTParts": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "KeyId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "List_Integer": {
      "dataType": "list",
      "items": {
        "dataType": "integer"
      }
    },
    "Maybe_StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [],
          "index": 1
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/StakingCredential"
            }
          ],
          "index": 0
        }
      ]
    },
    "OnChainWalletConfig": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/CurrencySymbol"
        },
        {
          "$ref": "#/definitions/TokenName"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/Address"
        },
        {
          "$ref": "#/definitions/Integer"
        }
      ],
      "index": 0
    },
    "PubKeyHash": {
      "title": "PubKeyHash",
      "dataType": "bytes"
    },
    "RewardingRedeemer": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/JWTParts"
        },
        {
          "$ref": "#/definitions/UserId"
        },
        {
          "$ref": "#/definitions/SigmaProof"
        },
        {
          "$ref": "#/definitions/KeyId"
        }
      ],
      "index": 0
    },
    "ScriptHash": {
      "title": "ScriptHash",
      "dataType": "bytes"
    },
    "SigmaProof": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/List_Integer"
        },
        {
          "$ref": "#/definitions/List_Integer"
        }
      ],
      "index": 0
    },
    "StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Credential"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            }
          ],
          "index": 1
        }
      ]
    },
    "TokenName": {
      "title": "TokenName",
      "dataType": "bytes"
    },
    "Unit": {
      "dataType": "constructor",
      "fields": [],
      "index": 0
    },
    "UserId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    }
  }
}
