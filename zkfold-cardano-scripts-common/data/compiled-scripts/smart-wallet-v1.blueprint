{
  "$id": "smart-wallet-v1",
  "$schema": "https://cips.cardano.org/cips/cip57/schemas/plutus-blueprint.json",
  "$vocabulary": {
    "https://cips.cardano.org/cips/cip57": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true
  },
  "preamble": {
    "title": "Smart Wallet",
    "description": "Validators related to zkFold's Smart Wallet. Visit https://zkfold.io/ for more details",
    "version": "0.1.0",
    "plutusVersion": "v3",
    "license": "MIT"
  },
  "validators": [
    {
      "title": "rewardingZKP",
      "description": "Smart wallet rewards script",
      "redeemer": {
        "title": "Rewarding script redeemer",
        "purpose": "withdraw",
        "schema": {
          "$ref": "#/definitions/RewardingRedeemer"
        }
      },
      "parameters": [
        {
          "title": "Wallet config",
          "purpose": "withdraw",
          "schema": {
            "$ref": "#/definitions/OnChainWalletConfig"
          }
        }
      ],
      "compiledCode": "59084d01010032323232323232323232323232323232323222932323255333573466e1d2000002113232328009bae35742009375c6ae8400e6eb8d5d08014c044d5d0800cdd69aba135744002357440026ae88004d5d1000889808a481035054310035573c0046aae74004dd5001488888c8c8c8c8ca4c8c8c954ccd5cd19b874800000844c8ca002646464aa666ae68cdc3a40000042265001375c6ae8400a6eb8d5d0800cdd71aba13574400235744002226040921035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260409201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302480011400cdd68014d4cc01001048004004240022260409201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260409201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c06d2401035054310035573c0046aae74004dd51aba13574400b222290049114802c894c8ca4c088d5d09aba2357446aae78dd51aba1357446aae78dd51aba137586ae8403a2a0032130033330252001232323255333573466e1d2000002118009bad35742003375a6ae84d5d1000844c0a12401035054310035573c0046aae74004dd5000800c85400826002c464664600200244b2003196b244320052255333573466ebc00801c44c8c964cd5ce1810400d241015b009981880119818400e001801c00300020069201015d00c000590028c0023002452689815a490350543500199bc94a290400219b8048202020202020202020202020202020202020202020202020202020202020202020202020202220a022a1243038302ca064266125b07061ac38b0207c3fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3ccde5251372466e28c088038cdc52441012e0030223371401a66e28068cdc50088062a999ab9a3370e9010181600508999ab9a3370e90101816804c0020042300211330060060030008dd480383501337580026ae84d5d10009aba200135573c6ea8d5d08009aab9e375400c32300100123229001a4900912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e04011200200191400600600900240040900091919192992999ab9a3370e9001001089800a408022aa666ae68cdc3a4008004226002901008aa999ab9a3370e9003001089800a402022aa666ae68cdc3a4010004226002900408aa999ab9a3370e9005001089800a40082260029001119199bc94a2008601260106600e00800266e08cde52510050013370c004900619b83337009005000a401866e092010371a002646002002444aa666ae68cdc3a4000004230001180199b8600148200066646600800800266e040092002337060029040008c8c00400489640063000910c00d54ccd5cd19b89002480c844cdc0241040200422aa666ae68cdc4801240cc2266e01208e010021155333573466e24009207a1133702004900408a999ab9a3370e903e0010a40b42905f00ccc01001000432300100122590018a40012213370000466e092080043300400400119918008009109980440008a006646464aa666ae68cdc3a400000422646465001300b3574200933001300175a6ae8400e601a6ae8400a66018eb8d5d09aba200218073ae357440026ae8800444c02d241035054310035573c0046aae74004dd50014d4cc01001048004004240024646464aa666ae68cdc3a4000004226500130013574200533006232323255333573466e1d20000021180098029aba100108aa999ab9a3370e90010010899400cdd69aba10029bad35742003375a6ae84d5d10008d5d1000889806249035054310035573c0046aae74004dd50009aba135744004232323255333573466e1d2000002118009bae357420021155333573466e1d2002002118019bae3574200211300b4901035054310035573c0046aae74004dd5000889803a481035054310035573c0046aae74004dd5000911919192a999ab9a3370e900100108c0084554ccd5cd19b874800000846002600a6ae8400422600e921035054310035573c0046aae74004dd500091919192a999ab9a3370e900000108c0004554ccd5cd19b87480080084600a6eb8d5d080084554ccd5cd19b8748010008460066ae8400422600a9201035054310035573c0046aae74004dd5000919319ab9c001800111911a8011bab00133230010012213300580011400e002600c6aae7400a600a6aae78009353300400412001001090009112999aab9f0011003133002357420026ae88004c8c0040048964006290004884cdc0240046600800800232300100122590018a4001221337009001198020020008c8c004004896400624003221322801a481012c009980380218010008cc010010004450039002a481045472756500a4810546616c7365004005",
      "hash": "d86617fe11797c483cf393b17931033534224200919cc7194a51aede"
    },
    {
      "title": "wallet",
      "description": "Smart wallet spending validator",
      "redeemer": {
        "title": "Unit",
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/Unit"
        }
      },
      "datum": {
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/BuiltinData"
        }
      },
      "parameters": [
        {
          "title": "Dummy parameter",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/Integer"
          }
        },
        {
          "title": "Email",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/BuiltinByteString"
          }
        },
        {
          "title": "Script hash",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/ScriptHash"
          }
        }
      ],
      "compiledCode": "590d340101003232323232323232323232323232323232323232323232323222223232323232323232323323001001225900189801c00a44320052255333573466ebc00803444c01e000226600c00c0060011191919191991800800912c800c4c8c0118cd5ce19b9632301f333006300548000006000602c602a00c66e59240104203a3a2000301e33302248000dd980640020012219002912a999ab9a3375e00402022600e002226600c00c00600211919192c99ab9c323020333007300648000006001003301f330013766007000c00cc07ccc004dd9809c0030039008a481045472756500a4810546616c736500600720054901045472756500a4810546616c7365006006603e6660449000400c041000c00cc8c080ccc01c8c00cdd9800800c000c054027000016402220051801229344c0b52410350543500181124000666ae68cdd7800808c0020046ae84d5d11aab9e3754002445003491012200c00c00b00349010122008008232290019400d241025b5d00800a4450034901015b009980300199802801400d2401015d008008323001001225900189000c884c8a006921012c009980380218010008cc01001000460066ae84d5d11aba23574400a60026ae8400ccc0500040048004d5d11aba2357446ae88d5d11aba235573c6ea8d5d09aab9e375400a66e95200433574000297ae03374a900119aba00014bd701ba9001375c00464600200244b2003180048860072005220024cc01001000432300100122590018c002443003900291001266008008002191800800912c800c6001221801c9919192a999ab9a3370e900000108c00cdd71aba100108aa999ab9a3370e900100108c024c8c8c954ccd5cd19b8748000008460026eb8d5d0800cdd69aba1357440021130204901035054310035573c0046aae74004dd51aba100108aa999ab9a3370e900200108c01cc070d5d080084554ccd5cd19b8748018008460026eb4d5d0800cc8c8c954ccd5cd19b87480000084601a603e6ae8400666018eb4d5d09aba200108aa999ab9a3370e900100108c04cc07cd5d0800ccc031d69aba1357440021155333573466e1d200400211801980f9aba100198059aba1357440021155333573466e1d2006002113280598101aba100298061aba10019bad357426ae880046ae880044554ccd5cd19b874802000846012603e6ae840066eb4d5d09aba200108aa999ab9a3370e900500108c054c07cd5d080084554ccd5cd19b874803000846022603e6ae840066eb4d5d09aba200108aa999ab9a3370e900700108c014dd71aba10019bae357426ae8800422aa666ae68cdc3a402000423007375c6ae840066eb4d5d09aba200108aa999ab9a3370e900900108c004c07cd5d0800cc07cd5d09aba200108aa999ab9a3370e900a00108c03cc07cd5d0800844c081241035054310035573c0046aae74004dd51aba1357440021155333573466e1d2008002118059919192a999ab9a3370e900000108c004c07cd5d080084554ccd5cd19b874800800846006603e6ae8400422aa666ae68cdc3a400800423005375c6ae84004226040921035054310035573c0046aae74004dd51aba100108aa999ab9a3370e900500108c014dd69aba10019919192a999ab9a3370e900000108994004dd69aba100298101aba10019919192a999ab9a3370e900000108994024cc044054d5d08014d5d0800ccc045d71aba1357440023574400222aa666ae68cdc3a400400423001330100143574200332323255333573466e1d2000002118009bad35742003375a6ae84d5d1000844c09d241035054310035573c0046aae74004dd51aba1357440021155333573466e1d20040021180599980a811bad357420033301075c6ae84d5d100084554ccd5cd19b87480180084600e660200286ae8400422aa666ae68cdc3a401000422646500d3301201635742007323502437580026ae8400a66602e04aeb4d5d0800e4c8c8c954ccd5cd19b8748000008460026eb4d5d0800cdd69aba1357440021130294901035054310035573c0046aae74004dd51aba13574400322330150020010d5d10009aba20011155333573466e1d200a002118029980800a1aba10019919192a999ab9a3370e90000010899809bae3574200222604e9201035054310035573c0046aae74004dd51aba1357440021155333573466e1d200c002118010898122481035054310035573c0046aae74004dd51aba135744002357440022260409201035054310035573c0046aae74004dd51aba13574400211301d4901035054310035573c0046aae74004dd5001488ca400a44a007225003912801c89400e44a00722250049119b9649010b43657274696679696e6720003372c601c00a66e5924101200030113900191980bc008a006921054a757374200099980da402c0040029400d2401074e6f7468696e6700800900092801489400e44a00725002099b9649011143657274696679696e67204f544845522000300b00292481084d696e74696e6720009119b964910a50726f706f73696e672000300b002919b964910a526577617264696e672000300d3330104800000600124901095370656e64696e672000924907566f74696e6720004cc010010004232323255333573466e1d2000002118009bae35742002115325333573466e1d20020031180298009aba100208aa999ab9a3370e900200188c00cdd71aba100298009aba13574400411301a49010350543100232323255333573466e1d200000211800980e1aba100108aa999ab9a3370e900100108c0084554ccd5cd19b87480100084600822603a9201035054310035573c0046aae74004dd50009aab9e00235573a0026ea800488c8c8c954ccd5cd19b87480080084600422aa666ae68cdc3a400000423001300535742002113019491035054310035573c0046aae74004dd50009918008009112a999ab9a3370e900000088980b24903505433001155333573466e200052000113323300400400133702900000119b814800000444ca00266e1000c00666e1000800466008004002646002002444aa666ae68cdc3a4000002220042266600600600266e180080048c010ccc031200000180011919192a999ab9a3370e900000108c004dd71aba10019bad357426ae880042260289201035054310035573c0046aae74004dd5000911911a8011bab00133230010012213301180011400e002600c6aae7400a600a6aae780093533004004120010010900099180080091914800d240100912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e040112002001914006006009002400409000914800c8cc014ccd5cd19b89003480520050002801a49115075624b657943726564656e7469616c2000999802a402c004002919802999ab9a33712006900a400a00050034911153637269707443726564656e7469616c20009998034000a00692010b536372697074486173682000c00d2401017b00c00d24011067657453637269707448617368203d200099980324000007003491017d008008000844646460046600c900019b8100148008dc6801191800800912c800c4800644264466446601a66e0c00920203300d3370c004901000099b8e007004300200133004004001112c80144a0069210128009801400d2401012900800910011918008009112a999ab9a33712004002230030029991980200200099b804800800800423000255333573466e2400520121133002480000044554ccd5cd19b874805000444a00692101610080084554ccd5cd19b874805800444a00692101620080084554ccd5cd19b874806000444a00692101630080084554ccd5cd19b874806800444a00692101640080084554ccd5cd19b874807000444a0069210165008008454ccd5cd19b87480780044a00692101660080084a0069210e3c696e76616c696420627974653e008008c8c00400488954ccd5cd19b880014800044a006921012d00999980200200199b81480000080042260086600b000001323001001225900189000c884c8a006aa666ae68cdc3a40000082292010130001155333573466e1d2002004114910131001155333573466e1d2004004114910132001155333573466e1d2006004114910133001155333573466e1d2008004114910134001155333573466e1d200a004114910135001155333573466e1d200c004114910136001155333573466e1d200e004114910137001155333573466e1d201000411491013800115333573466e1d2012004149101390014910f3c696e76616c69642064696769743e0098010008cc01001000464600200244464aa666ae68cdc3a4000002230033370a004900a400c226646600a00a0030033370a004900a400c00266e10005201433230010012213300380011400cc01800a6a66008008240020021200122253335573e00220062660046ae84004d5d100091919192a999ab9a3370e900000108c004dd71aba100108aa999ab9a3370e900100108c00cdd71aba1001089802a49035054310035573c0046aae74004dd5000919319ab9c00180001",
      "hash": "f69974e7a43aa7b278267dcbca4529c7737271622b05ef01fec949ef"
    }
  ],
  "definitions": {
    "Address": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/Credential"
        },
        {
          "$ref": "#/definitions/Maybe_StakingCredential"
        }
      ],
      "index": 0
    },
    "BuiltinByteString": {
      "dataType": "bytes"
    },
    "BuiltinData": {},
    "Credential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/PubKeyHash"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/ScriptHash"
            }
          ],
          "index": 1
        }
      ]
    },
    "CurrencySymbol": {
      "title": "CurrencySymbol",
      "dataType": "bytes"
    },
    "Integer": {
      "dataType": "integer"
    },
    "JWTParts": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "KeyId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "List_Integer": {
      "dataType": "list",
      "items": {
        "dataType": "integer"
      }
    },
    "Maybe_StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [],
          "index": 1
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/StakingCredential"
            }
          ],
          "index": 0
        }
      ]
    },
    "OnChainWalletConfig": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/CurrencySymbol"
        },
        {
          "$ref": "#/definitions/TokenName"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/Address"
        },
        {
          "$ref": "#/definitions/Integer"
        }
      ],
      "index": 0
    },
    "PubKeyHash": {
      "title": "PubKeyHash",
      "dataType": "bytes"
    },
    "RewardingRedeemer": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/JWTParts"
        },
        {
          "$ref": "#/definitions/UserId"
        },
        {
          "$ref": "#/definitions/SigmaProof"
        },
        {
          "$ref": "#/definitions/KeyId"
        }
      ],
      "index": 0
    },
    "ScriptHash": {
      "title": "ScriptHash",
      "dataType": "bytes"
    },
    "SigmaProof": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/List_Integer"
        },
        {
          "$ref": "#/definitions/List_Integer"
        }
      ],
      "index": 0
    },
    "StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Credential"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            }
          ],
          "index": 1
        }
      ]
    },
    "TokenName": {
      "title": "TokenName",
      "dataType": "bytes"
    },
    "Unit": {
      "dataType": "constructor",
      "fields": [],
      "index": 0
    },
    "UserId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    }
  }
}
