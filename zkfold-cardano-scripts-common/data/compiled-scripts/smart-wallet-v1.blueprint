{
  "$id": "smart-wallet-v1",
  "$schema": "https://cips.cardano.org/cips/cip57/schemas/plutus-blueprint.json",
  "$vocabulary": {
    "https://cips.cardano.org/cips/cip57": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true
  },
  "preamble": {
    "title": "Smart Wallet",
    "description": "Validators related to zkFold's Smart Wallet. Visit https://zkfold.io/ for more details",
    "version": "0.1.0",
    "plutusVersion": "v3",
    "license": "MIT"
  },
  "validators": [
    {
      "title": "rewardingZKP",
      "description": "Smart wallet rewards script",
      "redeemer": {
        "title": "Rewarding script redeemer",
        "purpose": "withdraw",
        "schema": {
          "$ref": "#/definitions/RewardingRedeemer"
        }
      },
      "parameters": [
        {
          "title": "Wallet config",
          "purpose": "withdraw",
          "schema": {
            "$ref": "#/definitions/OnChainWalletConfig"
          }
        }
      ],
      "compiledCode": "59119d0101003232323232323232323232323232323232323232323232323222932323255333573466e1d2000002113232328009bae35742009375c6ae8400e6eb8d5d08014c064d5d0800cdd69aba135744002357440026ae88004d5d100088980c2481035054310035573c0046aae74004dd5001488888c8c8c8c8c008d406cdd60009aba1357446ae88d55cf1baa3574200664600200244b2003130038014886400a4444b2b3200922900e912cc8024a400e4666ae68cdc7801000c0020052801252007280148ccd5cd19b8f00200180040088ac801c856400a43200529002948014a400a4660540040032801252005280148cc0a8008004911400922290049400a444aa666ae68cdc380300188aa999ab9a3370e00a00422666ae68cdc3802000c00200423002118011180122b200321801460004600422666ae68cdc41814801805c00a001180122601300089980400400282329932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889812a481035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae3574200222604a9201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302880011400cdd68014d4cc010010480040042400222604a9201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae3574200222604a9201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0812401035054310035573c0046aae74004dd51aba100191114802488a401645001005802400e011002800c0182444444464646464646464b2b200715932633573866e58c068cc8ca400e50034901025b5d00800a4450034901015b009980280199802001400d2401015d008008323001001225900189000c884c8a006921012c009980380218010008cc010010004604890004000c8c06cccc0892000001800199b8c480012010002800440423002460048a4d1302b49103505435001991800800912c800c6001221801c801488c8c8cd5ce1810999814240000030003370c66f2928800c806c8800866ae70c8c084ccc0a12000001800199b8c480012010001372466e28020004ccde4a514820010005330040040010cd5406000d4010ccde4a514820010cdc02410101010101010101010101010101010101010101010101010101010101010101010101010101210901291141018303cb054165115905071bc1890307c1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe3e66f29289b9233714603601866e29221012e00301b3371401666e28048cdc50048052a999ab9a3370e9002181580088999ab9a3370e9002181628014002004230029932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889817a49035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae3574200222605e9201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213303280011400cdd68014d4cc010010480040042400222605e9201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae3574200222605e9201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0a92401035054310035573c0046aae74004dd51aba100b91114802488a401645001005802400e011002800c0182444444400619932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889817249035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae3574200222605c9201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213303180011400cdd68014d4cc010010480040042400222605c9201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae3574200222605c9201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0a52401035054310035573c0046aae74004dd51aba100a91114802488a401645001005802400e011002800c0182444444400432332300100122590018cb592219002912a999ab9a3375e00400e23200322800801400411330060060030008dd48011813400e0029812a58283762663539353438396130626231353862303835653233653762353262663938393165303435333800c00520828008a418577a32babd7b7f9ab8bc5f717170dc583532169b7f14b213141899bd9716b3fbf97b18103c527217f036177e15d6983b7eb9371c9cd672fdf958567e1437f3f3349eb7d4f9379958d49f947cdcdd53dcde3b59fe5870daf574b5fad9fdb8165210339439f79d7fd2d99cde3aba323bba3eda3bf95b96bd721bf511101c37fd917ef93c5b701e159611355ef31f7396503e993919d47cd4f59538bdd773f59b3b925fdf501b95fc9510f115de7753133b9e70dc5cd394195e1376513bf61e5d5714f39ad6b910f03077b0d2da7a53d2b1f214fa5315f857761ad2bd767312dffab69ad8105efc7d5e1415fcbb7efa7892373c1f77be9afb9fd59598901612f1f691d37c95f0985472fb11b3373cd4953c13195914951c7e51947d10f53738fd775274b9c3060070014c012a58283935343464306666303539306630323533303136343366333237356266363837373637363538323200c00520828008a41ddafa3a1f533a56bc9e1e7ab63c587034317575907a70f9115c1179b3951f9fd19f35f7ba5c197534bb5539f71c51723a7477171d5e3d3974183b5b9bf5dc32115bfd1a19991b1d58dc1bb7faf5ba3ed2325ef7fbd11156bf5b7c91fed6359cb0f1f4f87e5dfe5df455bf95797459d919f85cd0f0d7dc331f9b19bcd43d525df3509c75d4b0309db0711bd095bc7f3d9dbdb09c3890b1badd5dfe9e7b55fc9018195c1a13fcfcdc58175330d9d0be3b5ef31ad07d36b6b639b23b9670961531ffd45bf131397cdf9f7f72d859fb9f7196bab8d51cddf8da3bdd1b3dbf10ffd2b290d0399a97729e3db73d11fd377a1bf6d8f1f13496d43af09dfedef8f5193bfe9e9bd499f13070b135ddfa7c53bcdcb81cfb75d97db6f534703d78d6d11d97341e9ebfe2660000d5d10011aab9e375400c3323001001221122590028c002442b200718004886007001004801266aa6601001024002006002048004c8c0040048c8a400692100912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e04011200200191400600600900240040900091919192992999ab9a3370e9001001089800a408022aa666ae68cdc3a4008004226002901008aa999ab9a3370e9003001089800a402022aa666ae68cdc3a4010004226002900408aa999ab9a3370e9005001089800a40082260029001119199bc94a2008601260106600e00800266e08cde52510050013370c004900619b83337009005000a401866e092010371a002646002002444aa666ae68cdc3a4000004230001180199b8600148200066646600800800266e040092002337060029040008c8c00400489640063000910c00d54ccd5cd19b89002480c844cdc0241040200422aa666ae68cdc4801240cc2266e01208e010021155333573466e24009207a1133702004900408a999ab9a3370e903e0010a40b42905f00ccc01001000432300100122590018a40012213370000466e0920800433004004001111919180119802a400066e040052002371a00464600200244b20031200191099119911980619b8300248080cc030cdc30012404000266e3801c010c008004cc010010004646002002444aa666ae68cdc480100088c00c00a6646600800800266e01200200200108c000954ccd5cd19b890014804844cc00920000011155333573466e1d2014001112801a48101610080084554ccd5cd19b874805800444a00692101620080084554ccd5cd19b874806000444a00692101630080084554ccd5cd19b874806800444a00692101640080084554ccd5cd19b874807000444a0069210165008008454ccd5cd19b87480780044a00692101660080084a0069210e3c696e76616c696420627974653e008008c8c00400488954ccd5cd19b880014800044a006921012d00999980200200199b81480000080042260086600b000001323001001225900189000c884c8a006aa666ae68cdc3a40000082292010130001155333573466e1d2002004114910131001155333573466e1d2004004114910132001155333573466e1d2006004114910133001155333573466e1d2008004114910134001155333573466e1d200a004114910135001155333573466e1d200c004114910136001155333573466e1d200e004114910137001155333573466e1d201000411491013800115333573466e1d2012004149101390014910f3c696e76616c69642064696769743e0098010008cc01001000464600200244464aa666ae68cdc3a4000002230033370a004900a400c226646600a00a0030033370a004900a400c00266e10005201422333573466e3c0080060010023323001001221323001228019919192a999ab9a3370e9000001089919194004c030d5d08024cc004c005d69aba10039919192a999ab9a3370e900000108c0004554ccd5cd19b87480080084600a6eb8d5d080084554ccd5cd19b8748010008460066ae840042260229201035054310035573c0046aae74004dd51aba100299806bae357426ae8800846446a0046eac004cc8c004004884c02c8a007001375c6aae7400a600a6aae78009353300400412001001090009aba2001357440022260169201035054310035573c0046aae74004dd50014d4cc01401448004004600d00012001232323255333573466e1d2000002113280098009aba10029980311919192a999ab9a3370e900000108c004c014d5d080084554ccd5cd19b874800800844ca0066eb4d5d08014dd69aba10019bad357426ae880046ae8800444c02d241035054310035573c0046aae74004dd50009aba135744004232323255333573466e1d2000002118009bae357420021155333573466e1d2002002118019bae3574200211300a4901035054310035573c0046aae74004dd50008898032481035054310035573c0046aae74004dd5000911919192a999ab9a3370e900100108c0084554ccd5cd19b874800000846002600a6ae8400422600c921035054310035573c0046aae74004dd5000919319ab9c0018001112999aab9f0011003133002357420026ae88004c8c00400489640063000910c801488cc8c00400489640063003800802400d800244320052255333573466ebc02000846007001008803a006118018024cc01801800c19803003001864600200244b200314800244266e01200233004004001191800800912c800c5200091099b8048008cc01001000464600200244b200314800244320052255333573466e3d2210000211300700111330060060030c8c0040048964006290004886400a44aa666ae68cdc7a441000021100111330060060031",
      "hash": "345e4e49204f9bc99fef4fc5e2e7419b8e95fb22451bbcbbdf2bbd8f"
    },
    {
      "title": "wallet",
      "description": "Smart wallet spending validator",
      "redeemer": {
        "title": "Unit",
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/Unit"
        }
      },
      "datum": {
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/BuiltinData"
        }
      },
      "parameters": [
        {
          "title": "Dummy parameter",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/Integer"
          }
        },
        {
          "title": "Email",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/BuiltinByteString"
          }
        }
      ],
      "compiledCode": "46010100222499",
      "hash": "09716b7d1d8091e49a2e4fcdf4a8af109b6ef064c8b3d4f3bba046a9"
    }
  ],
  "definitions": {
    "Address": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/Credential"
        },
        {
          "$ref": "#/definitions/Maybe_StakingCredential"
        }
      ],
      "index": 0
    },
    "BuiltinByteString": {
      "dataType": "bytes"
    },
    "BuiltinData": {},
    "Credential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/PubKeyHash"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/ScriptHash"
            }
          ],
          "index": 1
        }
      ]
    },
    "CurrencySymbol": {
      "title": "CurrencySymbol",
      "dataType": "bytes"
    },
    "Integer": {
      "dataType": "integer"
    },
    "JWTParts": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "KeyId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "List_Integer": {
      "dataType": "list",
      "items": {
        "dataType": "integer"
      }
    },
    "Maybe_StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [],
          "index": 1
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/StakingCredential"
            }
          ],
          "index": 0
        }
      ]
    },
    "OnChainWalletConfig": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/CurrencySymbol"
        },
        {
          "$ref": "#/definitions/TokenName"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/Address"
        },
        {
          "$ref": "#/definitions/Integer"
        }
      ],
      "index": 0
    },
    "PubKeyHash": {
      "title": "PubKeyHash",
      "dataType": "bytes"
    },
    "RewardingRedeemer": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/JWTParts"
        },
        {
          "$ref": "#/definitions/UserId"
        },
        {
          "$ref": "#/definitions/SigmaProof"
        },
        {
          "$ref": "#/definitions/KeyId"
        }
      ],
      "index": 0
    },
    "ScriptHash": {
      "title": "ScriptHash",
      "dataType": "bytes"
    },
    "SigmaProof": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/List_Integer"
        },
        {
          "$ref": "#/definitions/List_Integer"
        }
      ],
      "index": 0
    },
    "StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Credential"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            }
          ],
          "index": 1
        }
      ]
    },
    "TokenName": {
      "title": "TokenName",
      "dataType": "bytes"
    },
    "Unit": {
      "dataType": "constructor",
      "fields": [],
      "index": 0
    },
    "UserId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    }
  }
}
