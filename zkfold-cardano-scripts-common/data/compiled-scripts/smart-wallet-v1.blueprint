{
  "$id": "smart-wallet-v1",
  "$schema": "https://cips.cardano.org/cips/cip57/schemas/plutus-blueprint.json",
  "$vocabulary": {
    "https://cips.cardano.org/cips/cip57": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true
  },
  "preamble": {
    "title": "Smart Wallet",
    "description": "Validators related to zkFold's Smart Wallet. Visit https://zkfold.io/ for more details",
    "version": "0.1.0",
    "plutusVersion": "v3",
    "license": "MIT"
  },
  "validators": [
    {
      "title": "rewardingZKP",
      "description": "Smart wallet rewards script",
      "redeemer": {
        "title": "Rewarding script redeemer",
        "purpose": "withdraw",
        "schema": {
          "$ref": "#/definitions/RewardingRedeemer"
        }
      },
      "parameters": [
        {
          "title": "Wallet config",
          "purpose": "withdraw",
          "schema": {
            "$ref": "#/definitions/OnChainWalletConfig"
          }
        }
      ],
      "compiledCode": "590fd101010032323232323232323232323232323232323232323232323222932323255333573466e1d2000002113232328009bae35742009375c6ae8400e6eb8d5d08014c058d5d0800cdd69aba135744002357440026ae88004d5d100088980aa481035054310035573c0046aae74004dd5001488888c8c8c8c8c008d4060dd60009aba1357446ae88d55cf1baa3574200664600200244b2003130038014886400a4444b2b3200922900e912cc8024a400e4666ae68cdc7801000c0020052801252007280148ccd5cd19b8f00200180040088ac801c856400a43200529002948014a400a46604e0040032801252005280148cc09c008004911400922290049400a444aa666ae68cdc380300188aa999ab9a3370e00a00422666ae68cdc3802000c00200423002118011180122b200321801460004600422666ae68cdc41814001805c00a001180122601300089980400400282329932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d10008898112481035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260449201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302580011400cdd68014d4cc01001048004004240022260449201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260449201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0752401035054310035573c0046aae74004dd51aba100191114802488a401645001005802400e011002800c018244444446464646464646464b266ae70c0760069201015b009981780219817400c007003011c000801a49015d00c000590048ac800c40463002460048a4d130294901035054350018119991800800912c800c6001221801c801488c8c8c8c8ccd5cd19b870023370c66e08014ccc0940300040100120010023370c66f29289b9233714014666f2528a410008008004666046008002005201b22002480648800499802002000866aa03260340086034a00a666f2528a41000800266e0120808080808080808080808080808080808080808080808080808080808080808080808080808882808a8490c0e0c0b28190998496c1c186b0e2c081f0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0f33794944dc919b8a301d00c337149101012e00301d3371401666e28048cdc50048052a999ab9a3370e9002181400088999ab9a3370e90021814a8014002004230029932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889816249035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260589201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302f80011400cdd68014d4cc01001048004004240022260589201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260589201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c09d2401035054310035573c0046aae74004dd51aba100b91114802488a401645001005802400e011002800c0182444444400619932323255333573466e1d20000021132328009919192a999ab9a3370e900000108994004dd71aba10029bae35742003375c6ae84d5d10008d5d1000889815a49035054310035573c0046aae74004dd51aba10039919192a999ab9a3370e9000001089bae357420022260569201035054310035573c0046aae74004dd51aba10029919192a999ab9a3370e900000108994004c004d5d08014c004d5d09aba20021911a8011bac00133230010012213302e80011400cdd68014d4cc01001048004004240022260569201035054310035573c0046aae74004dd51aba10019919192a999ab9a3370e9000001089bae357420022260569201035054310035573c0046aae74004dd51aba135744002357440026ae8800444c0992401035054310035573c0046aae74004dd51aba100a91114802488a401645001005802400e011002800c0182444444400432332300100122590018cb592219002912a999ab9a3375e00400e23200322800801400411330060060030008dd48011811c00e0029812a58283762663539353438396130626231353862303835653233653762353262663938393165303435333800c00520828008a418577a32babd7b7f9ab8bc5f717170dc583532169b7f14b213141899bd9716b3fbf97b18103c527217f036177e15d6983b7eb9371c9cd672fdf958567e1437f3f3349eb7d4f9379958d49f947cdcdd53dcde3b59fe5870daf574b5fad9fdb8165210339439f79d7fd2d99cde3aba323bba3eda3bf95b96bd721bf511101c37fd917ef93c5b701e159611355ef31f7396503e993919d47cd4f59538bdd773f59b3b925fdf501b95fc9510f115de7753133b9e70dc5cd394195e1376513bf61e5d5714f39ad6b910f03077b0d2da7a53d2b1f214fa5315f857761ad2bd767312dffab69ad8105efc7d5e1415fcbb7efa7892373c1f77be9afb9fd59598901612f1f691d37c95f0985472fb11b3373cd4953c13195914951c7e51947d10f53738fd775274b9c3060070014c012a58283836333061373162643665633163363132353761323766663265666439313837326563616231663600c00520828008a417d0db3a33dbb2d5f63f5ffbb958f4bef6bb5658335f5ef65fdaf4dbdc9a7c91b6b7d1d1f8f1b439fef15d9415dc94faf3753d7e7916dff5fdd17df477fe9e9b1f76397cd5711c34b6f0d7dafb3653d8141e9dd53973ba19d8da5f979c58b0f757fdf1dfdfbad8b85e7e5a717615795fbbb474d3d3b1f1bf5d3e7f94db9e725536d89894f038b7139e73f65f9774711a1e73b49570b650b17f12d4f71b3e563b7efd99ba19db345b1cb056555f52f236b15573b8b3129f7edefe38d7d89017b81fd85fbd9ab55e761f99f75d55dd363f1b3bdbbb59fa1cb8bfdf9396f23034521af0ff343136b270ff9f77dd15b2d3519f9b97f7317a18bf1ef8587d96b27894f63e5593da111df09efcb8521af2beb391991cf1d5d57bf119913ed5987dfdbcb2be19d582a60000d5d10011aab9e375400c3323001001221122590028c002442b200718004886007001004801266aa66010010240020060020480049640062601e92103505439009108008c8c0040048888c8c954ccd5cd19b87480000104520021155333573466e1d2002004113370c00a00622aa666ae68cdc3a400066e18011200411001113370c66e0800401400ccdc319b82001001002333300400400333706004900200099180080091914800d24100912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e04011200200191400600600900240040900091919192992999ab9a3370e9001001089800a408022aa666ae68cdc3a4008004226002901008aa999ab9a3370e9003001089800a402022aa666ae68cdc3a4010004226002900408aa999ab9a3370e9005001089800a40082260029001119199bc94a2008601260106600e00800266e08cde52510050013370c004900619b83337009005000a401866e092010371a002646002002444aa666ae68cdc3a4000004230001180199b8600148200066646600800800266e040092002337060029040008c8c00400489640063000910c00d54ccd5cd19b89002480c844cdc0241040200422aa666ae68cdc4801240cc2266e01208e010021155333573466e24009207a1133702004900408a999ab9a3370e903e0010a40b42905f00ccc01001000432300100122590018a40012213370000466e0920800433004004001191800800912c800c600122159002899802002000c600411199ab9a3371e004003000801199180080091099180091400cc8c8c954ccd5cd19b874800000844c8c8ca00260186ae84012660026002eb4d5d0801cc8c8c954ccd5cd19b87480000084600022aa666ae68cdc3a400400423005375c6ae8400422aa666ae68cdc3a400800423003357420021130114901035054310035573c0046aae74004dd51aba100299806bae357426ae8800846446a0046eac004cc8c004004884c02c8a007001375c6aae7400a600a6aae78009353300400412001001090009aba2001357440022260169201035054310035573c0046aae74004dd50014d4cc01401448004004600d00012001232323255333573466e1d2000002113280098009aba10029980311919192a999ab9a3370e900000108c004c014d5d080084554ccd5cd19b874800800844ca0066eb4d5d08014dd69aba10019bad357426ae880046ae8800444c02d241035054310035573c0046aae74004dd50009aba135744004232323255333573466e1d2000002118009bae357420021155333573466e1d2002002118019bae3574200211300a4901035054310035573c0046aae74004dd50008898032481035054310035573c0046aae74004dd5000911919192a999ab9a3370e900100108c0084554ccd5cd19b874800000846002600a6ae8400422600c921035054310035573c0046aae74004dd5000919319ab9c0018001112999aab9f0011003133002357420026ae88004c8c00400489640063000910c801488cc8c00400489640063003800802400d800244320052255333573466ebc02000846007001008803a006118018024cc01801800c19803003001864600200244b200314800244266e01200233004004001191800800912c800c5200091099b8048008cc01001000464600200244b200312001910991400d241012c009980380218010008cc010010004450039002a481045472756500a4810546616c736500400464600200244b200314800244320052255333573466e3d2210000211300700111330060060030c8c0040048964006290004886400a44aa666ae68cdc7a441000021100111330060060031",
      "hash": "43bedf7f1872ecb7ac9068e0b672b30e882639d02a0acb2e6d232019"
    },
    {
      "title": "wallet",
      "description": "Smart wallet spending validator",
      "redeemer": {
        "title": "Unit",
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/Unit"
        }
      },
      "datum": {
        "purpose": "spend",
        "schema": {
          "$ref": "#/definitions/BuiltinData"
        }
      },
      "parameters": [
        {
          "title": "Dummy parameter",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/Integer"
          }
        },
        {
          "title": "Email",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/BuiltinByteString"
          }
        },
        {
          "title": "Script hash",
          "purpose": "spend",
          "schema": {
            "$ref": "#/definitions/ScriptHash"
          }
        }
      ],
      "compiledCode": "590c5601010032323232323232323232323232323232323232323232222232323232323232323323001001225900189801c00a44320052255333573466ebc00803444c01e000226600c00c0060011191919191991800800912c800c4c8c0118cd5ce19b963230163330063005480000060006028602600c66e59240104203a3a2000301533301c48000dd980640020012219002912a999ab9a3375e00402022600e002226600c00c00600211919192c99ab9c3230173330073006480000060010033016330013766007000c00cc058cc004dd980940030039008a481045472756500a4810546616c736500600720054901045472756500a4810546616c73650060000b201110028c009149a2605292010350543500180e24000666ae68cdd780080840020046ae84d5d11aab9e3754002445003491012200c00c00b00349010122008008232290019400d241025b5d00800a4450034901015b009980300199802801400d2401015d008008323001001225900189000c884c8a006921012c009980380218010008cc01001000460066ae84d5d11aba23574400a60026ae8400ccc0580040048004d5d11aba2357446ae88d5d11aba235573c6ea8d5d09aab9e375400866e95200433574000297ae03374a900119aba00014bd701ba9375c00464600200244b2003180048860072005220024cc01001000432300100122590018c002443003932323255333573466e1d2000002118019bae357420021155333573466e1d2002002118049919192a999ab9a3370e900000108c004dd71aba10019bad357426ae8800422603c921035054310035573c0046aae74004dd51aba100108aa999ab9a3370e900200108c01cc068d5d080084554ccd5cd19b8748018008460026eb4d5d0800cc8c8c954ccd5cd19b87480000084601a603a6ae840066601eeb4d5d09aba200108aa999ab9a3370e900100108c04cc074d5d0800ccc03dd69aba1357440021155333573466e1d200400211801980e9aba100198071aba1357440021155333573466e1d20060021132805980f1aba100298079aba10019bad357426ae880046ae880044554ccd5cd19b874802000846012603a6ae840066eb4d5d09aba200108aa999ab9a3370e900500108c054c074d5d080084554ccd5cd19b874803000846022603a6ae840066eb4d5d09aba200108aa999ab9a3370e900700108c014dd71aba10019bae357426ae8800422aa666ae68cdc3a402000423007375c6ae840066eb4d5d09aba200108aa999ab9a3370e900900108c004c074d5d0800cc074d5d09aba200108aa999ab9a3370e900a00108c03cc074d5d0800844c079241035054310035573c0046aae74004dd51aba1357440021155333573466e1d2008002118059919192a999ab9a3370e900000108c004c074d5d080084554ccd5cd19b874800800846006603a6ae8400422aa666ae68cdc3a400800423005375c6ae8400422603c921035054310035573c0046aae74004dd51aba100108aa999ab9a3370e900500108c014dd69aba10019919192a999ab9a3370e900000108994004dd69aba1002980f1aba10019919192a999ab9a3370e900000108994024cc050064d5d08014d5d0800ccc051d71aba1357440023574400222aa666ae68cdc3a400400423001330130183574200332323255333573466e1d2000002118009bad35742003375a6ae84d5d1000844c095241035054310035573c0046aae74004dd51aba1357440021155333573466e1d20040021180599980c810bad357420033301375c6ae84d5d100084554ccd5cd19b87480180084600e660260306ae8400422aa666ae68cdc3a401000422646500d3301501a35742007323502237580026ae8400a666036046eb4d5d0800e4c8c8c954ccd5cd19b8748000008460026eb4d5d0800cdd69aba1357440021130274901035054310035573c0046aae74004dd51aba13574400322330180020010d5d10009aba20011155333573466e1d200a002118029980980c1aba10019919192a999ab9a3370e9000001089980b3ae3574200222604a9201035054310035573c0046aae74004dd51aba1357440021155333573466e1d200c002118010898112481035054310035573c0046aae74004dd51aba1357440023574400222603c9201035054310035573c0046aae74004dd51aba13574400211301b4901035054310035573c0046aae74004dd50014892410c4f74686572207363726970740092490c4f7468657220736372697074009124810c4f746865722073637269707400919b9649010a526577617264696e672000300639001919807c008a006921115075624b657943726564656e7469616c2000999807a402c004002919807c008a0069211153637269707443726564656e7469616c20009998084000a00692010b536372697074486173682000c00d2401017b00c00d24011067657453637269707448617368203d200099980824000007003491017d008008000900092481095370656e64696e67200092490c4f7468657220736372697074004cc01001000432300100123229001a4900912c800c400a443264aa666ae68cdc4800a40002300180040182266a01400200c66e0cc02001520049119b9630080023008001046600400400264600200244b200314800244266e012002330040040011991800800910912c800c6003000c00122155333573466e1d200200411800c00c00b000400423266a6600c00c2400266e04011200200191400600600900240040900091919192a999ab9a3370e900000108c004dd71aba100108a992999ab9a3370e900100188c014c004d5d080104554ccd5cd19b874801000c460066eb8d5d08014c004d5d09aba200208980aa490350543100232323255333573466e1d200000211800980b9aba100108aa999ab9a3370e900100108c0084554ccd5cd19b8748010008460082260309201035054310035573c0046aae74004dd50009aab9e00235573a0026ea800488c8c8c954ccd5cd19b87480080084600422aa666ae68cdc3a400000423001300535742002113014491035054310035573c0046aae74004dd50009918008009112a999ab9a3370e9000000889808a4903505433001155333573466e200052000113323300400400133702900000119b814800000444ca00266e1000c00666e1000800466008004002646002002444aa666ae68cdc3a4000002220042266600600600266e1800800488c8c8c008cc02120003370200290011b8d002323001001225900189000c884c88cc88cc03ccdc1801240406601e66e1800920200013371c00e008600400266008008002225900289400d24010128009801400d24010129008009100111919192a999ab9a3370e900000108c004dd71aba10019bad357426ae8800422601c9201035054310035573c0046aae74004dd5000911911a8011bab00133230010012213300b80011400e002600c6aae7400a600a6aae78009353300400412001001090009918008009112a999ab9a33712004002230030029991980200200099b804800800800423000255333573466e2400520121133002480000044554ccd5cd19b874805000444a00692101610080084554ccd5cd19b874805800444a00692101620080084554ccd5cd19b874806000444a00692101630080084554ccd5cd19b874806800444a00692101640080084554ccd5cd19b874807000444a0069210165008008454ccd5cd19b87480780044a00692101660080084a0069210e3c696e76616c696420627974653e008008c8c00400488954ccd5cd19b880014800044a006921012d00999980200200199b81480000080042260086600b000001323001001225900189000c884c8a006aa666ae68cdc3a40000082292010130001155333573466e1d2002004114910131001155333573466e1d2004004114910132001155333573466e1d2006004114910133001155333573466e1d2008004114910134001155333573466e1d200a004114910135001155333573466e1d200c004114910136001155333573466e1d200e004114910137001155333573466e1d201000411491013800115333573466e1d2012004149101390014910f3c696e76616c69642064696769743e0098010008cc01001000464600200244464aa666ae68cdc3a4000002230033370a004900a400c226646600a00a0030033370a004900a400c00266e10005201433230010012213300380011400cc01800a6a66008008240020021200122253335573e00220062660046ae84004d5d100091919192a999ab9a3370e900000108c004dd71aba100108aa999ab9a3370e900100108c00cdd71aba1001089802a49035054310035573c0046aae74004dd5000919319ab9c00180001",
      "hash": "44bd61e12278892e6bc063bfb7e5334675547cf6ad22030f1f0dfb30"
    }
  ],
  "definitions": {
    "Address": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/Credential"
        },
        {
          "$ref": "#/definitions/Maybe_StakingCredential"
        }
      ],
      "index": 0
    },
    "BuiltinByteString": {
      "dataType": "bytes"
    },
    "BuiltinData": {},
    "Credential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/PubKeyHash"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/ScriptHash"
            }
          ],
          "index": 1
        }
      ]
    },
    "CurrencySymbol": {
      "title": "CurrencySymbol",
      "dataType": "bytes"
    },
    "Integer": {
      "dataType": "integer"
    },
    "JWTParts": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "KeyId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    },
    "List_Integer": {
      "dataType": "list",
      "items": {
        "dataType": "integer"
      }
    },
    "Maybe_StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [],
          "index": 1
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/StakingCredential"
            }
          ],
          "index": 0
        }
      ]
    },
    "OnChainWalletConfig": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/CurrencySymbol"
        },
        {
          "$ref": "#/definitions/TokenName"
        },
        {
          "$ref": "#/definitions/BuiltinByteString"
        },
        {
          "$ref": "#/definitions/Address"
        },
        {
          "$ref": "#/definitions/Integer"
        }
      ],
      "index": 0
    },
    "PubKeyHash": {
      "title": "PubKeyHash",
      "dataType": "bytes"
    },
    "RewardingRedeemer": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/JWTParts"
        },
        {
          "$ref": "#/definitions/UserId"
        },
        {
          "$ref": "#/definitions/SigmaProof"
        },
        {
          "$ref": "#/definitions/KeyId"
        }
      ],
      "index": 0
    },
    "ScriptHash": {
      "title": "ScriptHash",
      "dataType": "bytes"
    },
    "SigmaProof": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/List_Integer"
        },
        {
          "$ref": "#/definitions/List_Integer"
        }
      ],
      "index": 0
    },
    "StakingCredential": {
      "oneOf": [
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Credential"
            }
          ],
          "index": 0
        },
        {
          "dataType": "constructor",
          "fields": [
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            },
            {
              "$ref": "#/definitions/Integer"
            }
          ],
          "index": 1
        }
      ]
    },
    "TokenName": {
      "title": "TokenName",
      "dataType": "bytes"
    },
    "Unit": {
      "dataType": "constructor",
      "fields": [],
      "index": 0
    },
    "UserId": {
      "dataType": "constructor",
      "fields": [
        {
          "$ref": "#/definitions/BuiltinByteString"
        }
      ],
      "index": 0
    }
  }
}
